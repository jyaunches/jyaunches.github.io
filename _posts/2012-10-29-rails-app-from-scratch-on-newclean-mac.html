---
layout: post
title: Rails App from Scratch (On fresh Lion installation)
date: '2012-10-29T06:27:00.001-07:00'
author: Julie Yaunches
tags:
- OSX
- Rails
- MySQL
- Lion
- Ruby
modified_time: '2013-02-14T09:25:34.660-08:00'
blogger_id: tag:blogger.com,1999:blog-1290902463505407248.post-728232370394766758
blogger_orig_url: http://codingformangos.blogspot.com/2012/10/rails-app-from-scratch-on-newclean-mac.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">I'm setting up a new Mac Mini for Ruby on Rails development. It was pretty much headache free. I knew I needed my app to use MySQL so I wanted to set things up to incorporate this. Here's the list of components that need to be installed in the order shown.<br /><ol style="text-align: left;"><li>Xcode (with Command Line Tools)</li><li>Homebrew</li><li>MySQL &amp; MySQL Workbench</li><li>RVM (installing lastest Ruby 1.9.3)</li><li>Install gems to against 1.9.3 gemset: rails, bundler, mysql2,&nbsp;activerecord-mysql2-adapter</li><li>Rubymine (My editor/IDE of choice for RoR development)</li></ol><div>Once all of these are installed, you can use Rubymine to create a new rails project, configure your database.yml file, generate a model (with a migration), and run rake db:migrate to confirm that all connections are up and running. We'll step through this at the end.</div><br /><h2 style="text-align: center;">Install Xcode</h2><br />Best done through the Mac App Store. Launch the App Store and search for xcode. Follow directions to install it.<br /><br />Once Xcode is installed you need to install the Command Line Tools. This gets you lots of command line goodies we'll need for ruby and rails development. (One main one being the gcc compiler, integral for running Ruby.)<br /><br /><div style="text-align: left;">Within Xcode, go to Preferences &gt; Downloads &gt; Componenents. From here, you can install the 'Command Line Tools'.</div><br /><h2 style="text-align: center;">Install Homebrew</h2><div style="text-align: left;"><br />Homebrew is a package manager for Mac OSX. It's currently quite popular and I like it as it seems to work the most smoothly with the latest components new in Lion. Here's a <a href="http://bit.ly/QPH4iA">comparison</a> between the different options in this area.</div><div style="text-align: left;"><br /></div><div style="text-align: left;">Lion ships with Ruby installed, so we can use this default version to install Homebrew. Run this in your terminal:&nbsp;</div><div style="text-align: left;"><br /></div><div style="text-align: left;"><span style="font-family: Courier New, Courier, monospace;">$ ruby -e "$(curl -fsSkL raw.github.com/mxcl/homebrew/go)"</span></div><br /><h2 style="text-align: center;">Install MySQL</h2><div><br />Super easy now that we have Homebrew.</div><div><br /></div><div><span style="font-family: Courier New, Courier, monospace;">$ brew install mysql</span></div><div><br /></div><div>When this finishes it gives you some instructions of a few things to do to set up the root account and different configuration options for startup, etc... read these and do what you think you need to do. I'm going to configure it to start when the system starts</div><div><br /></div><div><span style="font-family: Courier New, Courier, monospace;">$&nbsp;mysql_install_db <span class="s1">--verbose</span> <span class="s1">--basedir</span>=<span class="s2">"</span><span class="s3">$(brew --prefix mysql)</span><span class="s2">"</span> <span class="s1">--datadir</span>=/usr/local/var/mysql <span class="s1">--tmpdir</span>=/tmp</span></div><div><span style="font-family: Courier New, Courier, monospace;">$&nbsp;<span class="s1">mkdir</span> <span class="s2">-p</span> ~/Library/LaunchAgents</span></div><div><span style="font-family: Courier New, Courier, monospace;">$&nbsp;<span class="s1">cp</span> /usr/local/Cellar/mysql/5.5.15/com.mysql.mysqld.plist ~/Library/LaunchAgents/</span></div><div class="p1"><span style="font-family: Courier New, Courier, monospace;">launchctl load <span class="s2">-w</span> ~/Library/LaunchAgents/com.mysql.mysqld.plist</span></div><div class="p1"><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div class="p1"><span style="font-family: Times, Times New Roman, serif;">You may still need to manually start it at this point before you can log in.</span></div><div class="p1"><span style="font-family: Times, Times New Roman, serif;"><br /></span></div><div class="p1"><span style="font-family: Courier New, Courier, monospace;">$&nbsp;cd /usr/local/opt/mysql ; /usr/local/opt/mysql/bin/mysqld_safe &amp;</span></div><div class="p1"><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div class="p1"><span style="font-family: Times, Times New Roman, serif;">Now, login.</span></div><div class="p1"><span style="font-family: Times, Times New Roman, serif;"><br /></span></div><div style="text-align: left;"><span style="font-family: Courier New, Courier, monospace;">$ mysql -uroot</span></div><div style="text-align: left;"><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div style="text-align: left;"><span style="font-family: Times, Times New Roman, serif;">If this is successful, you're almost there, the only thing left is to install the <a href="http://dev.mysql.com/downloads/workbench/">MySQL WorkBench</a>!</span></div><div style="text-align: left;"><span style="font-family: Times, 'Times New Roman', serif;"><br /></span></div><div style="text-align: left;"><span style="font-family: Times, 'Times New Roman', serif;">Create a connection using the default configurations: user: root, host: 127.0.0.1, port: 3306. Now you can create databases against this connection through this interface. We'll do this later though!</span></div><br /><h2 style="text-align: center;">Install RVM</h2><div style="text-align: left;"><br />I used <a href="http://cheat.errtheblog.com/s/rvm">this</a> as a step-by-step installation guideline.</div><div style="text-align: left;"><br /></div><div style="text-align: left;">But, basically... for installation. You just need to run this from your terminal:</div><div style="text-align: left;"><br /></div><div style="text-align: left;"></div><span style="font-family: Courier New, Courier, monospace;">$ curl -L get.rvm.io | bash -s stable</span><br /><div style="text-align: left;"><br /></div><div style="text-align: left;">Now we can install the latest Ruby (or which any you need) First, list all the ruby versions available for installation:</div><div style="text-align: left;"><br /></div><div style="text-align: left;"></div><span style="font-family: Courier New, Courier, monospace;">$ rvm list known</span><br /><span style="font-family: Times, Times New Roman, serif;"><br /></span><span style="font-family: Courier New, Courier, monospace;"></span><span style="font-family: Times, Times New Roman, serif;">I'm going to install the latest version, 1.9.3.</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;">$ rvm install 1.9.3</span><br /><span style="font-family: Times, Times New Roman, serif;"><br /></span><span style="font-family: Courier New, Courier, monospace;"></span><span style="font-family: Times, Times New Roman, serif;">Before we start installing gems, lets tell RVM the version of ruby we want to install gems against.</span><span style="font-family: Times, Times New Roman, serif;"></span><span style="font-family: Courier New, Courier, monospace;">$&nbsp;</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;">rvm use 1.9.3</span><br /><br /><h2 style="text-align: center;">Installing Gems for Rails Development using MySQL</h2><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;">$ gem install rails </span><br /><span style="font-family: 'Courier New', Courier, monospace;">$ gem install bundler&nbsp;</span><br /><span style="font-family: 'Courier New', Courier, monospace;">$ gem install mysql2</span><br /><span style="font-family: 'Courier New', Courier, monospace;">$ gem install activerecord-mysql2-adapter</span><br /><div><br /><h2 style="text-align: center;">Install <a href="http://www.jetbrains.com/ruby/download/">RubyMine</a> create a new Rails project</h2></div><div><br />Once RubyMine is installed, launch it and create a new project.&nbsp;</div><div><ul style="text-align: left;"><li>Make sure to specify the project type as 'Rails Application'.</li><li>Select the ruby version you want to use.&nbsp;</li><li>If RubyMine doesn't know the Rails version it should use, you will need to click the '...' box next to the Rails Version dropdown. RubyMine will go and get it!</li><li>Click 'ok' and we're ready to go!</li></ul><div><br /><h2 style="text-align: center;">Configure your database.yml File</h2><div><br />It should look something like this:<br /><script src="https://gist.github.com/3973436.js"> </script></div><br /><h2 style="text-align: center;">Test that everything is up and running.</h2></div></div><div><br /></div><div><span style="font-family: Courier New, Courier, monospace;">$ rails g model user</span></div><div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; invoke &nbsp;active_record</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; create &nbsp; &nbsp;db/migrate/20121029132052_create_users.rb</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; create &nbsp; &nbsp;app/models/user.rb</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; invoke &nbsp; &nbsp;test_unit</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; create &nbsp; &nbsp; &nbsp;test/unit/user_test.rb</span></div><div><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; create &nbsp; &nbsp; &nbsp;test/fixtures/users.yml</span></div></div><div><span style="font-family: Courier New, Courier, monospace;"><br /></span></div><div><span style="font-family: Times, Times New Roman, serif;">Edit your migration file to reflect the columns you'll need in your table. If all this doesn't make sense, spend some time researching ActiveRecord and Rails database migrations.</span></div><div><span style="font-family: Times, Times New Roman, serif;"><br /></span></div><div><span style="font-family: Times, Times New Roman, serif;">If you need a cheat sheet to help with defining your columns, check <a href="http://bit.ly/XKO7wF">this</a> out.</span></div><div><span style="font-family: Times, Times New Roman, serif;"><br /></span></div><div><span style="font-family: Times, Times New Roman, serif;">Now you should be able to run this:</span></div><div><span style="font-family: Times, Times New Roman, serif;"><br /></span></div><div><span style="font-family: Times, Times New Roman, serif;">$ rake db:migrate</span></div><div><span style="font-family: Times, Times New Roman, serif;"><br /></span></div><div><span style="font-family: Times, Times New Roman, serif;"><br /></span></div><h4 style="text-align: center;"><span style="font-family: Times, Times New Roman, serif;">BOOM. Easy Peasy.</span></h4><div><br /></div></div>