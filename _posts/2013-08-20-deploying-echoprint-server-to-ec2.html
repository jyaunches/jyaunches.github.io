---
layout: post
title: Deploying an Echoprint server to EC2
date: '2013-08-20T07:12:00.001-07:00'
author: Julie Yaunches
tags: 
modified_time: '2013-08-20T07:14:47.219-07:00'
thumbnail: http://1.bp.blogspot.com/-Om1oFDuX8wI/Ufk2XxXogSI/AAAAAAAAAfo/1Gkufr1r7rI/s72-c/Screen+Shot+2013-07-31+at+12.06.32+PM.png
blogger_id: tag:blogger.com,1999:blog-1290902463505407248.post-3483164986047263857
blogger_orig_url: http://codingformangos.blogspot.com/2013/08/deploying-echoprint-server-to-ec2.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">For my current client work, I recently needed to deploy an instance of the open-sourced <a href="https://github.com/echonest/echoprint-server">Echoprint server</a> to the cloud. Echoprint is written in Python and uses Tokyo Cabinet and Tokyo Tyrant as it's data store. I found the only cloud hosting option available (given these technologies) was a custom Amazon EC2 environment. Now, I'm not an EC2 expert. And I must say their documentation and tutorials are both confusing.. and frequently out of date. It was a bit of a headache to get everything setup and configured.. so I thought I'd document it!</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Here goes, if you'd like to setup the Echoprint open-sourced project on an Amazon EC2 instance... here's what you have to do. (As of Aug, 2013)</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><br /><h3 style="text-align: left;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Setup an AWS account and launch an EC2 instance</span></h3><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Create (or login to) an Amazon AWS account and go to the management console. Navigate to your EC2 dashboard and click 'Launch Instance'. From here, choose the 'Quick Launch' wizard. This will be fine just to get us going. A few things to note:</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">1. Create a new public/private key pair for this server. We'll be using this later to setup ssh access. If you can download it now we'll get back to this later.</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">2. Server type. I chose the default Linux AMI, this is fine.</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">From here, finish up and click 'Continue' and then 'Launch'. This should launch an virtual server for you.. which is what we want!</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">From here, we need to be able to access this machine from our local computer. We'll need to setup SSH access for this. Download <a href="http://s3.amazonaws.com/ec2-downloads/ec2-api-tools.zip">CLI tools</a>. Confusingly these are called either the CLI tools or the API tools from different places in the AWS documentation. They are the same thing. Jeez!</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">I created a local directory where I would store all my EC2 stuff. I recommend doing the same. In a terminal execute:</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><br /><div style="text-align: left;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">&gt; mkdir ~/.ec2</span></div><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Unzip and move the bin and lib files from the CLI tools you just downloaded into this directory.</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Move the key pair we created and downloaded during the wizard into here too.</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">You'll also need to update the permissions on that key-pair file.</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">&gt; chmod 400 ~/.ec2/saskey-ec2.pem</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Make sure the following environment variables are set. You'll have to get your AWS access and secret keys from the AWS console to set these variables. They are necessary. On a mac:</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">&gt; vim ~/.bash_profile</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Add:</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">export JAVA_HOME=$(/usr/libexec/java_home)</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">export EC2_HOME=~/.ec2</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">export PATH=$PATH:$EC2_HOME/bin</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">export AWS_ACCESS_KEY=AKIA***********FRS55A</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">export AWS_SECRET_KEY=u/ixxR*****************XsTfZl64I/H</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">export EC2_PRIVATE_KEY=$EC2_HOME/saskey-ec2.pem</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Save and close (esc -&gt; :wq!)</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">&gt; source .bash_profile</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Confirm everything is working by running the following command. Get the instance id from your ec2 instance console. It should look something like this: ec2-xx-xx-xx-xxx.compute-1.amazonaws.com.</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Now we can ssh into our new linux server!</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">&gt; ssh -i ~/.ec2/saskey-ec2.pem ec2-user@ec2-xx-xx-xx-xxx.compute-1.amazonaws.com</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">You should see something like this:</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp;__| &nbsp;__|_ &nbsp;)</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">&nbsp; &nbsp; &nbsp; &nbsp;_| &nbsp;( &nbsp; &nbsp; / &nbsp; Amazon Linux AMI</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">&nbsp; &nbsp; &nbsp; ___|\___|___|</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">[ec2-user@ip-xx-xxx-xx-xx ~]$</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><br /><h3 style="text-align: left;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Prepare This Server for Echoprint</span></h3><div><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span></div><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">We need to get the appropriate things onto the server:</span><br /><div style="color: #333333; font-size: 15.199999809265137px; line-height: 20px; margin-bottom: 15px; margin-top: 15px;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Requirements for the server:</span></div><ul style="color: #333333; font-size: 15.199999809265137px; line-height: 20px; margin: 15px 0px; padding: 0px 0px 0px 30px;"><li><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">java 1.6</span></li><li><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">python 2.5 or higher</span></li><li><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">simplejson (if python &lt; 2.6)</span></li><li><a href="http://fallabs.com/tokyocabinet/" style="color: #4183c4; text-decoration: none;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Tokyo Cabinet</span></a></li><li><a href="http://fallabs.com/tokyotyrant/" style="color: #4183c4; text-decoration: none;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Tokyo Tyrant</span></a></li></ul><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">Java should be on there. run &gt;&nbsp;java -version</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;"><br /></span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">Python should be on there. run &gt;&nbsp;python --version</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;"><br /></span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">I'm running Python 2.6.8, so no need to worry about the simplejson</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;"><br /></span></span><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">We need to install Tokyo Cabinet - run the following:</span></span></div><div><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt;&nbsp;wget http://fallabs.com/tokyocabinet/tokyocabinet-1.4.48.tar.gz</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt;&nbsp;tar -xvf tokyocabinet-1.4.48.tar.gz</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt; cd tokyocabinet-1.4.48</span></span></div><div><span style="color: #333333; font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt; sudo yum install gcc</span></div><div><div><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333; font-size: 15px; line-height: 20px;">&gt;&nbsp;</span><span style="color: #333333;"><span style="font-size: 15px; line-height: 20px;">sudo yum install zlib</span></span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt;&nbsp;sudo yum install zlib-devel</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt; sudo yum install bzip2-devel.x86_64</span></span></div></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt;&nbsp;./configure --enable-off64</span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt; sudo make</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt; sudo make install</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;"><br /></span></span></div><div><span style="color: #333333; font-size: 15px; line-height: 20px;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">We need to install Tokyo Tyrant - run the following:</span></span><br /><span style="color: #333333; font-size: 15px; line-height: 20px;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt; wget http://fallabs.com/tokyotyrant/tokyotyrant-1.1.41.tar.gz</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt;&nbsp;tar -xvf tokyotyrant-1.1.41.tar.gz&nbsp;</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt;&nbsp;cd tokyotyrant-1.1.41</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt; ./configure</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt; make</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">&gt; sudo make install</span></span><br /><br /><h3><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Install the Echoprint project</span></h3></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;"><br /></span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;">Now we need the Echoprint project itself. I'm going to pull it from the <a href="https://github.com/echonest/echoprint-server">Github project</a>.</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;"><br /></span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;">&gt; sudo yum install&nbsp;git.x86_64</span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;"><br /></span></span><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;">Go make a fork of the echoprint github project and git the github address. You'll need it below.</span></span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;"><br /></span></span><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;">&gt; cd /usr/local</span></span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;">&gt; git clone&nbsp;https://github.com/your-git-id/echoprint-server</span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;"><br /></span></span><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;">Now you've got the Echoprint project. Let's fire it up. Everything is installed and ready to startup.</span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;"><br /></span></span><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;"><u>Starting Solr</u> (The Echoprint project uses Solr to index it's audiofingerprints)</span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;"><br /></span></span><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;">&gt; cd solr/solr</span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;">&gt;&nbsp;java -Dsolr.solr.home=/usr/local/echoprint-server/solr/solr/solr/ -Djava.awt.headless=true -jar&nbsp;</span></span><span style="background-color: #eeeeee; font-size: 13.63636302947998px; line-height: 17.27272605895996px;">-DSTOP.KEY=YOURKEY&nbsp;</span><span style="background-color: #eeeeee; font-size: 13.63636302947998px; line-height: 17.27272605895996px;">-DSTOP.PORT=8079</span><span style="background-color: #eeeeee; font-size: 13.63636302947998px; line-height: 17.27272605895996px;">&nbsp;</span><span style="color: #333333; font-size: 15.333333015441895px; line-height: 20px;">start.jar</span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333; font-size: 15.333333015441895px; line-height: 20px;"><br /></span><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;">As a note, the logs will now output to:&nbsp;/usr/local/echoprint-server/solr/solr/logs</span></span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;"><br /></span></span><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;"><u>Stopping Solr</u> (You may need this later)</span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;"><br /></span></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;">&gt;&nbsp;java -Dsolr.solr.home=/usr/local/echoprint-server/solr/solr/solr/ -Djava.awt.headless=true -jar&nbsp;</span></span><span style="background-color: #eeeeee; font-size: 13.63636302947998px; line-height: 17.27272605895996px;">-DSTOP.KEY=</span></span><span style="background-color: #eeeeee; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; font-size: 14px; line-height: 17.265625px;">YOURKEY</span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="background-color: #eeeeee; font-size: 13.63636302947998px; line-height: 17.27272605895996px;">&nbsp;</span><span style="background-color: #eeeeee; font-size: 13.63636302947998px; line-height: 17.27272605895996px;">-DSTOP.PORT=8079</span><span style="background-color: #eeeeee; font-size: 13.63636302947998px; line-height: 17.27272605895996px;">&nbsp;</span><span style="color: #333333; font-size: 15.333333015441895px; line-height: 20px;">/usr/local/echoprint-server/solr/solr/</span><span style="color: #333333; font-size: 15.333333015441895px; line-height: 20px;">start.jar --stop</span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><br /></span><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;"><u>Start Tokyo Tyrant</u></span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;"><br /></span></span><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;">&gt; sudo mkdir /var/ttserver</span></span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;">&gt;&nbsp;sudo chown ec2-user /var/ttserver/</span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;">&gt; cd /usr/local/sbin</span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;">&gt; ls</span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;">&gt;&nbsp;</span></span><span style="color: #333333; font-size: 14px; line-height: 19px;">nohup&nbsp;</span><span style="color: #333333; font-size: 15.333333015441895px; line-height: 20px;">ttservctl start &amp;</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;">Starting the server of Tokyo Tyrant</span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;">Executing: ttserver -port 1978 -dmn -pid /var/ttserver/pid</span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="font-size: 15.333333015441895px; line-height: 20px;"><span style="color: #333333;"></span></span><br /></span><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;">Done</span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;"><br /></span></span><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;"><u>Start Echoprint API Server</u></span></span></span><br /><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15.333333015441895px; line-height: 20px;"><br /></span></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 15.333333015441895px; line-height: 20px;">&gt;&nbsp;</span></span><span style="background-color: white; color: #333333; font-size: 14px; line-height: 19px; text-align: justify;">sudo easy_install web.py</span></span><br /><div style="text-align: justify;"><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 19px;">&gt; cd /usr/local/echoprint-server/API</span></span></div><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="background-color: white; color: #333333; font-size: 14px; line-height: 19px; text-align: justify;">&gt; nohup&nbsp;</span><span style="color: #333333;"><span style="font-size: 14px; line-height: 19px;">python api.py 8080 &amp;</span></span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 14px; line-height: 19px;"><br /></span></span><span style="color: #333333;"><span style="font-size: 14px; line-height: 19px;">nohup because of ssh session</span></span></span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 14px; line-height: 19px;"><br /></span></span></span><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 14px; line-height: 19px;"><br /></span></span></span><br /><h3><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;">Make it Accessible to Outside world</span></h3><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 14px; line-height: 19px;"><br /></span></span><span style="color: #333333;"><span style="font-size: 14px; line-height: 19px;">If you'd like this accessible to the outside world.. to later do your importing/querying, you'll need to open up the port the Echoprint API server is running on. W</span></span></span><span style="color: #333333; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; font-size: 14px; line-height: 19px;">e have to tell our EC2 instance to do this. We do that by adding a rule to the security group's inbound rules, as shown below.</span><br /><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><span style="color: #333333;"><span style="font-size: 14px; line-height: 19px;"><br /></span></span></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-Om1oFDuX8wI/Ufk2XxXogSI/AAAAAAAAAfo/1Gkufr1r7rI/s1600/Screen+Shot+2013-07-31+at+12.06.32+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif;"><img border="0" height="108" src="http://1.bp.blogspot.com/-Om1oFDuX8wI/Ufk2XxXogSI/AAAAAAAAAfo/1Gkufr1r7rI/s320/Screen+Shot+2013-07-31+at+12.06.32+PM.png" width="320" /></span></a></div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 19px;"><br /></span></span><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 19px;">Now you're ready to import and query. Reference the Echoprint <a href="https://github.com/echonest/echoprint-server">project documentation</a> for instructions on how to do this!</span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;"><br /></span></span></div><div><span style="color: #333333;"><span style="font-family: Helvetica Neue, Arial, Helvetica, sans-serif; font-size: 15px; line-height: 20px;"><br /></span></span></div><br /></div>